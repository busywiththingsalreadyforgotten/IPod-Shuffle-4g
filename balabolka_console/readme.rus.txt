Балаболка (консольное приложение), версия 1.25
Copyright (с) 2013-2015 Илья Морозов
Все права защищены

WWW: http://www.cross-plus-a.ru/bconsole.html
E-mail: crossa@list.ru

Тип лицензии: Freeware
Операционная система: Microsoft Windows XP/Vista/7/8/10
Speech API: 4.0/5.0 или выше
Microsoft Speech Platform



*** Командная строка ***

balabolka_console.exe [параметры ...]


*** Параметры командной строки ***

-l
   Показать список голосов, установленных на компьютере.

-g
   Показать список доступных аудиоустройств.

-f <имя_файла>
   Открыть текстовый файл.

-w <имя_файла>
   Записать звуковой файл в формате WAV. Если параметр задан, звуковой файл будет создан. Если параметр не задан, текст будет прочитан вслух.

-n <имя_голоса>
   Выбрать голос (достаточно указать часть его имени). Если параметр не задан, будет использоваться голос, заданный при помощи параметра [-id],
   или голос, выбранный в панели управления Windows.

-id <число>
   Выбрать голос при помощи идентификатора языка (Locale ID). Такие идентификаторы присвоены языкам разработчиками из Microsoft (например, "1049" для русского языка,
   "1058" для украинского). Программа выберет из списка первый голос, идентификатора языка которого совпадает с заданным значением.
   Если параметр не задан, будет использоваться голос, заданный при помощи параметра [-n], или голос, выбранный в панели управления Windows.
   Список идентификаторов для языков: http://msdn.microsoft.com/en-us/goglobal/bb964664.aspx

-m
   Показать параметры выбранного голоса.

-b <число>
   Выбрать аудиоустройство по его номеру в списке доступных устройств для воспроизведения звука. Номер устройства, используемого по умолчанию, равен 0.

-c
   Использовать текст из буфера обмена.

-t <текст>
   Использовать текст из командной строки.

-i
   Использовать текст из стандартного потока ввода (STDIN).

-o
   SAPI 4: параметр не используется.
   SAPI 5 и Microsoft Speech Platform: записать аудиоданные в стандартный поток вывода (STDOUT); если параметр задан, параметр [-w] игнорируется.

-s <число>
   SAPI 4: установить скорость речи в диапазоне от 0 до 100 (значение по умолчанию отсутствует).
   SAPI 5 и Microsoft Speech Platform: установить скорость речи в диапазоне от -10 до 10 (по умолчанию значение равно 0).

-p <число>
   SAPI 4: установить тембр речи в диапазоне от 0 до 100 (значение по умолчанию отсутствует).
   SAPI 5 и Microsoft Speech Platform: установить тембр речи в диапазоне от -10 до 10 (по умолчанию значение равно 0).

-v <число>
   SAPI 4: параметр не используется.
   SAPI 5 и Microsoft Speech Platform: установить громкость в диапазоне от 0 до 100 (по умолчанию значение равно 100).

-e <число>
   Установить длину пауз между предложениями (в миллисекундах). По умолчанию значение равно 0.

-a <число>
   Установить длину пауз между абзацами (в миллисекундах). По умолчанию значение равно 0.

-d <имя_файла>
   Использовать словарь для коррекции произношения (файл с расширением *.REX или *.DIC). Командная строка может содержать несколько параметров [-d].

-k
   Остановить работу других экземпляров консольного приложения, запущенных на компьютере.

-ka
   Остановить работу экземпляра консольного приложения, активного в данный момент.

-q
   Добавить приложение в очередь. Консольное приложение будет ждать, пока остальные экземпляры программы не завершат работу.

-lrc
   SAPI 4: параметр не используется.
   SAPI 5 и Microsoft Speech Platform: создать файл формата LRC, если заданы параметры [-w] или [-o].

-sub
   SAPI 4: параметр не используется.
   SAPI 5 и Microsoft Speech Platform: текст представляет собой субтитры и должен быть преобразован в звуковой файл с учетом заданных интервалов времени.
   Параметр может быть полезен в тех случаях, когда в командной строке заданы параметры [-i] или [-c].

-tray
   Показать иконку программы в области уведомлений операционной системы.
   Это позволит пользователю следить за прогрессом выполнения операции, а также прервать процесс при помощи пункта контекстного меню "Стоп".

-ln <число>
   Выбрать строку из текстового файла, используя её номер. Нумерация строк начинается с "1".
   Для выбора нескольких строк можно указать номера начальной и конечной строк в тексте (например, "26-34").
   Командная строка может содержать несколько параметров [-ln].

-? или -h
   Показать описание параметров командной строки.

--encoding <кодировка> или -enc <кодировка>
   Кодировка текста из стандартного потока ввода ("ansi", "utf8" или "unicode"). По умолчанию значение равно "ansi".

--silence-begin <число> или -sb <число>
   Установить длину паузы в начале звукового файла (в миллисекундах). По умолчанию значение равно 0.

--silence-end <число> или -se <число>
   Установить длину паузы в конце звукового файла (в миллисекундах). По умолчанию значение равно 0.

--lrc-length <число>
   Установить максимальную длину строк для файла формата LRC (в символах).

--lrc-filename <имя_файла>
   Имя файла формата LRC. Параметр может быть полезен в тех случаях, когда в командной строке задан параметр [-o].

--lrc-encoding <кодировка>
   Кодировка файла формата LRC ("ansi", "utf8" или "unicode"). По умолчанию значение равно "ansi".

--lrc-offset <число>
   Задать сдвиг времени для файла формата LRC (в миллисекундах).

--lrc-artist <текст>
   Тег для файла формата LRC: исполнитель произведения.

--lrc-album <текст>
   Тег для файла формата LRC: альбом.

--lrc-title <текст>
   Тег для файла формата LRC: название произведения.

--lrc-author <текст>
   Тег для файла формата LRC: автор.

--lrc-creator <текст>
   Тег для файла формата LRC: создатель файла.

--raw
   SAPI 4: параметр не используется.
   SAPI 5 и Microsoft Speech Platform: записать аудиоданные в формате RAW PCM; данные не содержат заголовок формата WAV.
   Параметр используется совместно с параметром [-o].

--ignorelength
   SAPI 4: параметр не используется.
   SAPI 5 и Microsoft Speech Platform: не записывать размер аудиоданных в заголовок формата WAV.
   Параметр используется совместно с параметром [-o].

--sub-format <текст>
   Формат субтитров ("srt", "ssa", "ass" или "smi"). Если параметр не задан, формат будет определен по расширению имени файла субтитров.

--sub-fit или -sf
   Автоматически увеличивать скорость речи для того, чтобы уложиться в интервалы времени, заданные в субтитрах.

--sub-max <число> или -sm <число>
   Установить максимальную скорость речи в диапазоне от -10 до 10 (для преобразования субтитров в звуковой файл).

--deletefile или -df
   Удалить текстовый файл после завершения чтения вслух или сохранения звукового файла. Параметр используется совместно с параметром [-f].


*** Примеры ***

balabolka_console.exe -l

balabolka_console.exe -n "Microsoft Anna" -m

balabolka_console.exe -f "d:\Text\book.txt" -w "d:\Sound\book.wav" -n "Emma"

balabolka_console.exe -n "Olga" -c -d "d:\rex\rules.rex" -d "d:\dic\rules.dic"

balabolka_console.exe -n "Alyona" -t "Текст будет прочитан медленно." -s -5 -v 70

balabolka_console.exe -k

balabolka_console.exe -f "d:\Text\book.txt" -w "d:\Sound\book.wav" -lrc --lrc-length 80 --lrc-title "The Lord of the Rings"

balabolka_console.exe -f "d:\Text\film.srt" -w "d:\Sound\film.wav" -n "Laura" --sub-fit --sub-max 2


Пример использования приложения совместно с утилитой LAME.EXE:

balabolka_console.exe -f d:\book.txt -n Alyona -o --raw | lame.exe -r -s 22.05 -m m -h - d:\book.mp3


Пример использования приложения совместно с утилитой OGGENC2.EXE:

balabolka_console.exe -f d:\book.txt -n Alyona -o --ignorelength | oggenc2.exe --ignorelength - -o d:\book.ogg


Пример использования приложения совместно с утилитой WMAENCODE.EXE:

balabolka_console.exe -f d:\book.txt -n Alyona -o --ignorelength | wmaencode.exe - d:\book.wma --ignorelength


*** Файл конфигурации ***

Параметры можно сохранить как файл конфигурации "balabolka_console.cfg" в той же папке, что и консольное приложение.

Пример содержимого файла:
===============
-f d:\Text\book.txt
-w d:\Sound\book.wav
-n Microsoft Anna
-s 2
-p -1
-v 95
-e 300
-d d:\rex\rules.rex
-d d:\dic\rules.dic
-lrc
--lrc-length 75
--lrc-encoding utf8
--lrc-offset 300
===============

Программа может комбинировать параметры из файла конфигурации и командной строки.


*** Аудиоклипы ***

Программа позволяет вставлять ссылки на внешние звуковые файлы формата WAV (аудиоклипы) в текст. Тег вставки аудиоклипа будет выглядеть так:

{{Audio=C:\Sounds\ring.wav}}

Во время чтения вслух, когда в тексте встретится ссылка на аудиоклип, программа будет приостанавливать речь, воспроизводить аудиоклип, а затем продолжать чтение.
При записи речи в файл программа вставит аудиоданные из внешнего звукового файла внутрь нового файла.


*** Лицензия ***

Право на некоммерческое использование программы: 
- для физических лиц - без ограничений;
- для юридических лиц - с учетом ограничений, перечисленных в "Лицензионном соглашении" программного продукта "Балаболка".

Коммерческое использование программы допускается только с разрешения правообладателя.

###